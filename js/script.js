var app=angular.module("BookApp",[]);app.factory("Books",["$http",function(e){return{get:function(o){return e.get("https://www.googleapis.com/books/v1/volumes?maxResults=10&fields=items(volumeInfo(title,authors,publishedDate,description,imageLinks,previewLink))&q=inauthor:"+o)}}}]),app.controller("bookController",["$scope","$location","$http","Books",function(e,o,r,s){e.formData={},e.loading=!1,e.loaded=!1,e.bookSearch=function(){e.books={},e.loading=!0,searchTerm='"'+encodeURIComponent(e.formData.searchTerm)+'"',searchTerms=[],s.get(searchTerm).success(function(o){e.books=o,e.loaded=!0,e.loading=!1}),sessionStorage.searchTerms&&(searchTerms=sessionStorage.getItem("searchTerms").split(",")),searchTerms.push(searchTerm),sessionStorage.setItem("searchTerms",searchTerms)},e.authorClick=function(o){e.formData.searchTerm=o,e.bookSearch()}}]).directive("focus",function(e){return{scope:{trigger:"@focus"},link:function(o,r){o.$watch("trigger",function(o){"true"===o&&e(function(){r[0].focus()})})}}});